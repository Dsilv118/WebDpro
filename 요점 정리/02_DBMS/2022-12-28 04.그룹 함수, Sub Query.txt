2022.12.28 요점정리

04. 그룹 함수, Sub Query

● 그룹 함수
그룹 함수란?
여러 행 또는 테이블 전체의 행에 대해 함수가 적용되어 하나의 결과값을 가져오는 함수

* GROUP BY절을 이용하여 그룹 당 하나의 결과가 주어지도록 그룹화할 수 있다.
* HAVING절을 사용하여 그룹 함수를 가지고 조건 비교를 할 수 있다.
* COUNT(*)를 제외한 모든 그룹 함수는 NULL값을 고려하지 않는다.
* MIN, MAX 그룹 함수는 모든 자료형에 대해서 사용할 수 있다.

◎ GROUP BY 절
그룹함수를 쓰되 어떤 칼럼 값을 기준으로 그룹함수를 적용할 경우
GROUP BY 절 뒤에 해당 컬럼을 기술하면 됩니다.

※ 형식 :		SELECT 컬럼명, 그룹함수
			FROM 테이블명
			WHERE 조건(연산자)
			GROUP BY 컬럼명;

◎ HAVING 조건
SELECT 절에 조건을 사용하여 결과를 제안할 때는 WHERE 절을 사용하지만 
그룹의 결과를 제한할 때에는 HAVING 절을 사용한다.

● Sub Query
서브 쿼리란?
* 서브 쿼리는 하나의 SQL 문장의 절 안에 포함된 또 하나의 SELECT 문장입니다.
* 서브 쿼리를 포함하고 있는 쿼리문을 메인 쿼리, 포함된 또 하나의 쿼리를 서브 쿼리라 합니다.
* 서브 쿼리는 비교 연산자의 오른쪽에 기술하고 반드시 괄호로 둘러 쌓아야 합니다.
* 서브 쿼리는 메인 쿼리가 실행되기 이전에 한번만 실행이됩니다.

◎ 단일 행 서브 쿼리
단일 행 서브 쿼리는 수행 결과가 오직 하나의 로우(행)만을 반환하는 서브 쿼리를 갖는 것을 말합니다.

단일 행 서브 쿼리문에서는 이렇게 오직 하나의 로우로 반환되는 
서브 쿼리의 결과는 메인 쿼리에 보내게 되는데 
메인 쿼리의 WHERE 절에서는 단일 행 비교 연산자인 =, >, >=, <, <=, <>를 사용해야 합니다.

◎ 다중 행 서브 쿼리
다중 행 서브 쿼리는 서브쿼리에서 반환되는 결과가 하나 이상의 행일 때 사용하는 서브 쿼리입니다.
다중 행 서브 쿼리는 반드시 다중 행 연산자와 함께 사용해야 합니다

※ 다중 행 연산자 : IN, ANY(SOME), ALL, EXISTS